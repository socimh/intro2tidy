{
  "hash": "ba6bdbc504f0cb1f165988cdee9d4fbc",
  "result": {
    "markdown": "---\ntheme: united\nlang: zh\ntoc: true\ntoc-depth: 3\ntoc-expand: 2\ntoc-title: 本页目录\nnumber-sections: true\n---\n\n\n\n# dplyr 分组\n\n## `.by`\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nlibrary(tidyverse)\n\ndiamonds %>%\n  summarise(\n    price = mean(price), \n    .by = cut\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 x 2\n  cut       price\n  <ord>     <dbl>\n1 Ideal     3458.\n2 Premium   4584.\n3 Good      3929.\n4 Very Good 3982.\n5 Fair      4359.\n```\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\ndiamonds %>%\n  mutate(\n    mean_price = mean(price), \n    .by = cut\n    ) %>%\n  relocate(cut, price, mean_price)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 53,940 x 11\n   cut       price mean_price carat color clarity depth table     x     y     z\n   <ord>     <int>      <dbl> <dbl> <ord> <ord>   <dbl> <dbl> <dbl> <dbl> <dbl>\n 1 Ideal       326      3458.  0.23 E     SI2      61.5    55  3.95  3.98  2.43\n 2 Premium     326      4584.  0.21 E     SI1      59.8    61  3.89  3.84  2.31\n 3 Good        327      3929.  0.23 E     VS1      56.9    65  4.05  4.07  2.31\n 4 Premium     334      4584.  0.29 I     VS2      62.4    58  4.2   4.23  2.63\n 5 Good        335      3929.  0.31 J     SI2      63.3    58  4.34  4.35  2.75\n 6 Very Good   336      3982.  0.24 J     VVS2     62.8    57  3.94  3.96  2.48\n 7 Very Good   336      3982.  0.24 I     VVS1     62.3    57  3.95  3.98  2.47\n 8 Very Good   337      3982.  0.26 H     SI1      61.9    55  4.07  4.11  2.53\n 9 Fair        337      4359.  0.22 E     VS2      65.1    61  3.87  3.78  2.49\n10 Very Good   338      3982.  0.23 H     VS1      59.4    61  4     4.05  2.39\n# i 53,930 more rows\n```\n:::\n\n```{.r .cell-code  code-fold=\"false\"}\ndiamonds %>%\n  summarise(\n    price = mean(price), \n    .by = c(cut, clarity)\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 40 x 3\n   cut       clarity price\n   <ord>     <ord>   <dbl>\n 1 Ideal     SI2     4756.\n 2 Premium   SI1     4455.\n 3 Good      VS1     3801.\n 4 Premium   VS2     4550.\n 5 Good      SI2     4580.\n 6 Very Good VVS2    3038.\n 7 Very Good VVS1    2459.\n 8 Very Good SI1     3932.\n 9 Fair      VS2     4175.\n10 Very Good VS1     3805.\n# i 30 more rows\n```\n:::\n:::\n",
    "supporting": [
      "dplyr-group_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}